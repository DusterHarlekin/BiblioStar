import{S as L,b1 as S,P as G,R as Q,r as c,M as U,U as B,V as n,a6 as I,Z as s,X as a,$ as l,W as m,b2 as g,x as R,_ as b,a0 as d,a2 as V,aA as $}from"./index.3de14beb.js";import{Q as k}from"./QForm.56ccee4c.js";import{_ as N}from"./logo.1476ec36.js";import{_ as E}from"./plugin-vue_export-helper.21dcd24c.js";const j={class:"q-pa-md row items-start q-gutter-md"},z={class:"q-pa-md"},A={class:"column items-center justify-center q-mt-xl"},M={class:"column items-center justify-center q-mt-xl"},P={__name:"LoginComponent",props:{isGuest:Boolean},setup(r){const f=L(),_=S(),x=G(),i=Q(),p=c(null),v=c(null),y=c(null),u=c(!0);U(()=>{});const w=async()=>{try{await f.login({username:p.value,password:v.value});const t="/"+(_.query.redirect||"");x.replace(t),i.notify({type:"positive",message:"Iniciaste sesi\xF3n correctamente."})}catch(t){console.log(t.message),i.notify({color:"negative",position:"top",message:t.message,icon:"warning"})}},C=async()=>{try{await f.loginGuest({cedula:y.value});const t="/"+(_.query.redirect||"");x.replace(t),i.notify({type:"positive",message:"Iniciaste sesi\xF3n correctamente."})}catch(t){console.log(t.message),i.notify({color:"negative",position:"top",message:t.message,icon:"warning"})}};return(t,e)=>{const q=B("RouterLink");return n(),I("div",j,[s($,{class:"my-card column q-px-lg q-py-xl"},{default:a(()=>[e[6]||(e[6]=l("div",{class:"logo-container"},[l("img",{src:N})],-1)),l("div",z,[r.isGuest?d("",!0):(n(),m(k,{key:0,onSubmit:w,class:"q-gutter-md"},{default:a(()=>[s(g,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=o=>p.value=o),label:"Usuario"},null,8,["modelValue"]),s(g,{modelValue:v.value,"onUpdate:modelValue":e[2]||(e[2]=o=>v.value=o),label:"Contrasen\u0303a",type:u.value?"password":"text"},{append:a(()=>[s(R,{name:u.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[1]||(e[1]=o=>u.value=!u.value)},null,8,["name"])]),_:1},8,["modelValue","type"]),l("div",A,[s(b,{size:"18px",class:"q-px-xl q-py-xs",type:"submit",color:"primary",label:"Iniciar Sesi\xF3n","no-caps":""})])]),_:1})),r.isGuest?(n(),m(k,{key:1,onSubmit:C,class:"q-gutter-md"},{default:a(()=>[s(g,{modelValue:y.value,"onUpdate:modelValue":e[3]||(e[3]=o=>y.value=o),label:"C\xE9dula"},null,8,["modelValue"]),l("div",M,[s(b,{size:"18px",class:"q-px-xl q-py-xs",type:"submit",color:"primary",label:"Entrar","no-caps":""})])]),_:1})):d("",!0)]),r.isGuest?d("",!0):(n(),m(q,{key:0,class:"guestLink",to:"/login/invitado"},{default:a(()=>e[4]||(e[4]=[V("Entrar como invitado")])),_:1})),r.isGuest?(n(),m(q,{key:1,class:"guestLink",to:"/login"},{default:a(()=>e[5]||(e[5]=[V("Volver al inicio de sesi\xF3n")])),_:1})):d("",!0)]),_:1})])}}};var Z=E(P,[["__scopeId","data-v-498ef55c"]]);export{Z as L};
