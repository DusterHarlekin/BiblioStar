import{b1 as v,r as g,V as h,W as w,X as e,$ as i,Z as t,_ as x,x as Q,a3 as n,a2 as l,aA as b}from"./index.3de14beb.js";import{Q as r,b as d,a as o}from"./QItem.5c0ffacc.js";import{Q as I}from"./QList.d82f2d18.js";import{Q as q}from"./QPage.ea495e0d.js";const y={class:"row q-gutter-sm items-center q-mb-md"},S={class:"text-h5 text-weight-medium font-title text-grey-9"},$={class:"row"},k={class:"col-md-6 col-sm-6 col-xs-12"},E={__name:"LoanView",setup(B){const f=v().params.id,s=g({cod_isbn:"",titulo:"",cedula:"",observacion:"",fecha_s:"",hora_s:"",fecha_e:"",hora_e:""}),m=async()=>{const u={method:"GET",headers:{"Content-Type":"application/json"}},a=`http://localhost/bibliostar/API/prestamos.php?cod_isbn=${f}&session_user_name=${localStorage.getItem("usuario")}&session_user_role=${localStorage.getItem("rol")}`,c=await fetch(a,u);if(!c.ok)throw new Error(c.statusText);const _=await c.json();if(_.error)throw new Error(_.error);s.value=p(_[0])},p=u=>{for(const a in u)u[a].trim()===""&&(u[a]="--");return u};return m(),(u,a)=>(h(),w(q,{class:"q-px-lg q-py-md"},{default:e(()=>[i("div",y,[i("div",null,[t(x,{icon:"mdi-chevron-left",flat:"",color:"primary",padding:"none",to:"/prestamos",size:"lg",class:"q-mr-sm"})]),t(Q,{name:"mdi-account-clock",size:"md",color:"grey-9"}),i("div",S,' Pr\xE9stamo "'+n(s.value.cod_isbn)+" "+n(s.value.titulo)+'" ',1)]),t(b,{class:"q-pa-md q-ma-lg"},{default:e(()=>[i("div",$,[i("div",k,[t(I,null,{default:e(()=>[t(r,null,{default:e(()=>[t(d,null,{default:e(()=>[t(o,{caption:""},{default:e(()=>a[0]||(a[0]=[l("C\xF3digo ISBN")])),_:1}),t(o,null,{default:e(()=>[l(n(s.value.cod_isbn),1)]),_:1})]),_:1})]),_:1}),t(r,null,{default:e(()=>[t(d,null,{default:e(()=>[t(o,{caption:""},{default:e(()=>a[1]||(a[1]=[l("T\xEDtulo")])),_:1}),t(o,null,{default:e(()=>[l(n(s.value.titulo),1)]),_:1})]),_:1})]),_:1}),t(r,null,{default:e(()=>[t(d,null,{default:e(()=>[t(o,{caption:""},{default:e(()=>a[2]||(a[2]=[l("C\xE9dula de lector")])),_:1}),t(o,null,{default:e(()=>[l(n(s.value.cedula),1)]),_:1})]),_:1})]),_:1}),t(r,null,{default:e(()=>[t(d,null,{default:e(()=>[t(o,{caption:""},{default:e(()=>a[3]||(a[3]=[l("Observaci\xF3n")])),_:1}),t(o,null,{default:e(()=>[l(n(s.value.observacion),1)]),_:1})]),_:1})]),_:1}),t(r,null,{default:e(()=>[t(d,null,{default:e(()=>[t(o,{caption:""},{default:e(()=>a[4]||(a[4]=[l("Fecha de salida")])),_:1}),t(o,null,{default:e(()=>[l(n(s.value.fecha_s)+" "+n(s.value.hora_s),1)]),_:1})]),_:1})]),_:1}),t(r,null,{default:e(()=>[t(d,null,{default:e(()=>[t(o,{caption:""},{default:e(()=>a[5]||(a[5]=[l("Fecha de entrega")])),_:1}),t(o,null,{default:e(()=>[l(n(s.value.fecha_e)+" "+n(s.value.hora_e),1)]),_:1})]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1}))}};export{E as default};
